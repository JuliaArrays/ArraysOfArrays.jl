<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · ArraysOfArrays</title><link rel="canonical" href="https://oschulz.github.io/ArraysOfArrays.jl/stable/api/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ArraysOfArrays</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>API</a><ul class="internal"><li><a class="toctext" href="#Types-1">Types</a></li><li><a class="toctext" href="#Functions-1">Functions</a></li><li class="toplevel"><a class="toctext" href="#Documentation-1">Documentation</a></li></ul></li><li><a class="toctext" href="../LICENSE/">LICENSE</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API</a></li></ul><a class="edit-page" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/master/docs/src/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="API-1" href="#API-1">API</a></h1><h2><a class="nav-anchor" id="Types-1" href="#Types-1">Types</a></h2><ul><li><a href="#ArraysOfArrays.AbstractArrayOfSimilarArrays"><code>ArraysOfArrays.AbstractArrayOfSimilarArrays</code></a></li><li><a href="#ArraysOfArrays.ArrayOfSimilarArrays"><code>ArraysOfArrays.ArrayOfSimilarArrays</code></a></li><li><a href="#ArraysOfArrays.VectorOfArrays"><code>ArraysOfArrays.VectorOfArrays</code></a></li></ul><h2><a class="nav-anchor" id="Functions-1" href="#Functions-1">Functions</a></h2><ul><li><a href="#ArraysOfArrays.deepmap"><code>ArraysOfArrays.deepmap</code></a></li><li><a href="#ArraysOfArrays.flatview"><code>ArraysOfArrays.flatview</code></a></li><li><a href="#ArraysOfArrays.flatview-Tuple{VectorOfArrays}"><code>ArraysOfArrays.flatview</code></a></li><li><a href="#ArraysOfArrays.flatview-Tuple{ArrayOfSimilarArrays}"><code>ArraysOfArrays.flatview</code></a></li><li><a href="#ArraysOfArrays.innersize"><code>ArraysOfArrays.innersize</code></a></li><li><a href="#ArraysOfArrays.nestedmap2"><code>ArraysOfArrays.nestedmap2</code></a></li><li><a href="#ArraysOfArrays.nestedview"><code>ArraysOfArrays.nestedview</code></a></li><li><a href="#Base.sum-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T"><code>Base.sum</code></a></li><li><a href="#Statistics.cor-Tuple{AbstractArrayOfSimilarArrays{T,1,1} where T}"><code>Statistics.cor</code></a></li><li><a href="#Statistics.cov-Tuple{AbstractArrayOfSimilarArrays{T,1,1} where T}"><code>Statistics.cov</code></a></li><li><a href="#Statistics.mean-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T"><code>Statistics.mean</code></a></li><li><a href="#Statistics.var-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T"><code>Statistics.var</code></a></li></ul><h1><a class="nav-anchor" id="Documentation-1" href="#Documentation-1">Documentation</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.AbstractArrayOfSimilarArrays" href="#ArraysOfArrays.AbstractArrayOfSimilarArrays"><code>ArraysOfArrays.AbstractArrayOfSimilarArrays</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">AbstractArrayOfSimilarArrays{T,M,N} &lt;: AbstractArray{&lt;:AbstractArray{T,M},N}</code></pre><p>An array that contains arrays that have the same size/axes. The array is internally stored in flattened form as some kind of array of dimension <code>M + N</code>. The flattened form can be accessed via <code>flatview(A)</code>.</p><p>Subtypes must implement (in addition to typical array operations):</p><pre><code class="language-none">flatview(A::SomeArrayOfSimilarArrays)::AbstractArray{T,M+N}</code></pre><p>The following type aliases are defined:</p><ul><li><code>AbstractVectorOfSimilarArrays{T,M} = AbstractArrayOfSimilarArrays{T,M,1}</code></li><li><code>AbstractArrayOfSimilarVectors{T,N} = AbstractArrayOfSimilarArrays{T,1,N}</code></li><li><code>AbstractVectorOfSimilarVectors{T} = AbstractArrayOfSimilarArrays{T,1,1}</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L3-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.ArrayOfSimilarArrays" href="#ArraysOfArrays.ArrayOfSimilarArrays"><code>ArraysOfArrays.ArrayOfSimilarArrays</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">ArrayOfSimilarArrays{T,M,N,L,P} &lt;: AbstractArrayOfSimilarArrays{T,M,N}</code></pre><p>Represents a view of an array of dimension <code>L = M + N</code> as an array of dimension M with elements that are arrays with dimension N. All element arrays implicitly have equal size/axes.</p><p>Constructors:</p><pre><code class="language-none">ArrayOfSimilarArrays{T,M,N}(flat_data::AbstractArray)
ArrayOfSimilarArrays{T,M}(flat_data::AbstractArray)</code></pre><p>The following type aliases are defined:</p><ul><li><code>VectorOfSimilarArrays{T,M} = AbstractArrayOfSimilarArrays{T,M,1}</code></li><li><code>ArrayOfSimilarVectors{T,N} = AbstractArrayOfSimilarArrays{T,1,N}</code></li><li><code>VectorOfSimilarVectors{T} = AbstractArrayOfSimilarArrays{T,1,1}</code></li></ul><p><code>VectorOfSimilarArrays</code> supports <code>push!()</code>, etc., provided the underlying array supports resizing of it&#39;s last dimension (e.g. an <code>ElasticArray</code>).</p><p>The nested array can also be created using the function <a href="#ArraysOfArrays.nestedview"><code>nestedview</code></a> and the wrapped flat array can be accessed using <a href="#ArraysOfArrays.flatview"><code>flatview</code></a> afterwards:</p><pre><code class="language-julia">A_flat = rand(2,3,4,5,6)
A_nested = nestedview(A_flat, 2)
A_nested isa AbstractArray{&lt;:AbstractArray{T,2},3} where T
flatview(A_nested) === A_flat</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L34-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.VectorOfArrays" href="#ArraysOfArrays.VectorOfArrays"><code>ArraysOfArrays.VectorOfArrays</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">VectorOfArrays{T,N,M} &lt;: AbstractVector{&lt;:AbstractArray{T,N}}</code></pre><p>An <code>VectorOfArrays</code> represents a vector of <code>N</code>-dimensional arrays (that may differ in size). Internally, <code>VectorOfArrays</code> stores all elements of all arrays in a single flat vector. <code>M</code> must equal <code>N - 1</code></p><p>The <code>VectorOfArrays</code> itself supports <code>push!</code>, <code>unshift!</code>, etc., but the size of each individual array in the vector is fixed. <code>resize!</code> can be used to shrink, but not to grow, as the size of the additional element arrays in the vector would be unknown. However, memory space for up to <code>n</code> arrays with a maximum size <code>s</code> can be reserved via <code>sizehint!(A::VectorOfArrays, n, s::Dims{N})</code>.</p><p>Constructors:</p><pre><code class="language-julia">VectorOfArrays{T, N}()

VectorOfArrays(
    data::AbstractVector,
    elem_ptr::AbstractVector{Int},
    kernel_size::AbstractVector{&lt;:Dims}
    checks::Function = ArraysOfArrays.full_consistency_checks
)</code></pre><p>Other suitable values for <code>checks</code> are <code>ArraysOfArrays.simple_consistency_checks</code> and <code>ArraysOfArrays.no_consistency_checks</code>.</p><p>The following type aliases are defined:</p><ul><li><code>VectorOfVectors{T,VT,VI,VD} = VectorOfArrays{T,1,VT,VI,VD}</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/vector_of_arrays.jl#L4-L37">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.deepmap" href="#ArraysOfArrays.deepmap"><code>ArraysOfArrays.deepmap</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">deepmap(f::Base.Callable, x::Any)
deepmap(f::Base.Callable, A::AbstractArray{&lt;:AbstractArray{&lt;:...}})</code></pre><p>Applies <code>map</code> at the deepest possible layer of nested arrays. If <code>A</code> is not a nested array, <code>deepmap</code> behaves identical to <code>Base.map</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/functions.jl#L17-L23">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.flatview" href="#ArraysOfArrays.flatview"><code>ArraysOfArrays.flatview</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">flatview(A::AbstractArray)
flatview(A::AbstractArray{&lt;:AbstractArray{&lt;:...}})</code></pre><p>View array <code>A</code> in a suitable flattened form. The shape of the flattened form will depend on the type of <code>A</code>. If the <code>A</code> is not a nested array, the return value is <code>A</code> itself. When no type-specific method is available, <code>flatview</code> will fall back to <code>Base.Iterators.flatten</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/functions.jl#L33-L41">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.flatview-Tuple{ArrayOfSimilarArrays}" href="#ArraysOfArrays.flatview-Tuple{ArrayOfSimilarArrays}"><code>ArraysOfArrays.flatview</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">flatview(A::ArrayOfSimilarArrays{T,M,N,L,P})::P</code></pre><p>Returns the array of dimensionality <code>L = M + N</code> wrapped by <code>A</code>. The shape of the result may be freely changed without breaking the inner consistency of <code>A</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L126-L132">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.flatview-Tuple{VectorOfArrays}" href="#ArraysOfArrays.flatview-Tuple{VectorOfArrays}"><code>ArraysOfArrays.flatview</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">flatview(A::VectorOfArrays{T})::Vector{T}</code></pre><p>Returns the internal serialized representation of all element arrays of <code>A</code> as a single vector. Do <em>not</em> change the length of the returned vector, as it would break the inner consistency of <code>A</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/vector_of_arrays.jl#L141-L147">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.innersize" href="#ArraysOfArrays.innersize"><code>ArraysOfArrays.innersize</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">innersize(A:AbstractArray{&lt;:AbstractArray}, [dim])</code></pre><p>Returns the size of the element arrays of <code>A</code>. Fails if the element arrays are not of equal size.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/functions.jl#L69-L74">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.nestedmap2" href="#ArraysOfArrays.nestedmap2"><code>ArraysOfArrays.nestedmap2</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">nestedmap2(f::Base.Callable, A::AbstractArray{&lt;:AbstractArray})</code></pre><p>Nested <code>map</code> at depth 2. Equivalent to <code>map(X -&gt; map(f, X) A)</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/functions.jl#L4-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ArraysOfArrays.nestedview" href="#ArraysOfArrays.nestedview"><code>ArraysOfArrays.nestedview</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">nestedview(A::AbstractArray{T,M+N}, M::Integer)
nestedview(A::AbstractArray{T,2})</code></pre><p>AbstractArray{&lt;:AbstractArray{T,M},N}</p><p>View array <code>A</code> in as an <code>M</code>-dimensional array of <code>N</code>-dimensional arrays by wrapping it into an <a href="#ArraysOfArrays.ArrayOfSimilarArrays"><code>ArrayOfSimilarArrays</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/functions.jl#L50-L58">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.sum-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T" href="#Base.sum-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T"><code>Base.sum</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">sum(X::AbstractVectorOfSimilarArrays)
sum(X::AbstractVectorOfSimilarArrays, w::StatsBase.AbstractWeights)</code></pre><p>Compute the sum of the elements vectors of <code>X</code>. Equivalent to <code>sum</code> of <code>flatview(X)</code> along the last dimension.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L314-L320">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Statistics.cor-Tuple{AbstractArrayOfSimilarArrays{T,1,1} where T}" href="#Statistics.cor-Tuple{AbstractArrayOfSimilarArrays{T,1,1} where T}"><code>Statistics.cor</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">cor(X::AbstractVectorOfSimilarVectors)
cor(X::AbstractVectorOfSimilarVectors, w::StatsBase.AbstractWeights)</code></pre><p>Compute the Pearson correlation matrix between the elements of the elements of  <code>X</code> along <code>X</code>. Equivalent to <code>cor</code> of <code>flatview(X)</code> along dimension 2.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L364-L370">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Statistics.cov-Tuple{AbstractArrayOfSimilarArrays{T,1,1} where T}" href="#Statistics.cov-Tuple{AbstractArrayOfSimilarArrays{T,1,1} where T}"><code>Statistics.cov</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">cov(X::AbstractVectorOfSimilarVectors; corrected::Bool = true)
cov(X::AbstractVectorOfSimilarVectors, w::StatsBase.AbstractWeights; corrected::Bool = true)</code></pre><p>Compute the covariance matrix between the elements of the elements of <code>X</code> along <code>X</code>. Equivalent to <code>cov</code> of <code>flatview(X)</code> along dimension 2.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L351-L357">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Statistics.mean-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T" href="#Statistics.mean-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T"><code>Statistics.mean</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">mean(X::AbstractVectorOfSimilarArrays)
mean(X::AbstractVectorOfSimilarArrays, w::StatsBase.AbstractWeights)</code></pre><p>Compute the mean of the elements vectors of <code>X</code>. Equivalent to <code>mean</code> of <code>flatview(X)</code> along the last dimension.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L325-L331">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Statistics.var-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T" href="#Statistics.var-Union{Tuple{AbstractArrayOfSimilarArrays{T,M,1}}, Tuple{M}, Tuple{T}} where M where T"><code>Statistics.var</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">var(X::AbstractVectorOfSimilarArrays; corrected::Bool = true)
var(X::AbstractVectorOfSimilarArrays, w::StatsBase.AbstractWeights; corrected::Bool = true)</code></pre><p>Compute the sample variance of the elements vectors of <code>X</code>. Equivalent to <code>var</code> of <code>flatview(X)</code> along the last dimension.</p></div></div><a class="source-link" target="_blank" href="https://github.com/oschulz/ArraysOfArrays.jl/blob/3b5a1a2edd2e9b28f6abf0ceb299cd434cfc10d0/src/array_of_similar_arrays.jl#L338-L344">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../LICENSE/"><span class="direction">Next</span><span class="title">LICENSE</span></a></footer></article></body></html>
